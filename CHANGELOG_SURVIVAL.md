# ๐ Changelog - ะะตะถะธะผ ะฒัะถะธะฒะฐะฝะธั

## ๐ฏ ะงัะพ ะฑัะปะพ ะดะพะฑะฐะฒะปะตะฝะพ

### ะัะฝะพะฒะฝะฐั ััะฝะบัะธะพะฝะฐะปัะฝะพััั:
- โ CheckButton ะฒ ะผะตะฝั ะฝะฐัััะพะตะบ ะดะปั ะฒะบะปััะตะฝะธั/ะฒัะบะปััะตะฝะธั ัะตะถะธะผะฐ ะฒัะถะธะฒะฐะฝะธั
- โ ะะฒัะพะผะฐัะธัะตัะบะพะต ัะพััะฐะฝะตะฝะธะต ะฝะฐัััะพะนะบะธ (ัะพััะฐะฝัะตััั ะผะตะถะดั ัะตััะธัะผะธ)
- โ ะะตะถะธะผ ะฒัะบะปััะตะฝ ะฟะพ ัะผะพะปัะฐะฝะธั (ะฟะพะปัะทะพะฒะฐัะตะปั ะฒะบะปััะฐะตั ัะฐะผ)
- โ ะะฝัะตะณัะฐัะธั ั ัััะตััะฒัััะธะผ SurvivalModeUI
- โ ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะธ ะธะฝััััะบัะธะธ

## ๐ ะะทะผะตะฝัะฝะฝัะต ัะฐะนะปั

### 1. scripts/SettingsPopup.gd
**ะะพะฑะฐะฒะปะตะฝะพ:**
- ะกะธะณะฝะฐะป `survival_mode_changed(enabled: bool)`
- ะะตัะตะผะตะฝะฝะฐั `survival_mode_enabled: bool`
- UI ัะปะตะผะตะฝั `survival_checkbox: CheckButton`
- ะะตัะพะด `_on_survival_toggled(pressed: bool)`
- ะะตัะพะด `_update_survival_checkbox()`
- ะะตัะพะด `set_survival_mode(enabled: bool)`

**ะะทะผะตะฝะตะฝะพ:**
- `_ready()` - ะดะพะฑะฐะฒะปะตะฝะพ ะฟะพะดะบะปััะตะฝะธะต checkbox
- ะะพะฑะฐะฒะปะตะฝ ะฒัะทะพะฒ `_update_survival_checkbox()` ะฟัะธ ะธะฝะธัะธะฐะปะธะทะฐัะธะธ

### 2. scenes/SettingsPopup.tscn
**ะะทะผะตะฝะตะฝะพ:**
- ะะฐะทะผะตั ะพะบะฝะฐ: 400x350 โ 400x420 (ััะพะฑั ะฒะผะตััะธัั ะฝะพะฒัั ัะตะบัะธั)

**ะะพะฑะฐะฒะปะตะฝะพ:**
- Label: "ะะตะถะธะผ ะฒัะถะธะฒะฐะฝะธั / Survival Mode:"
- Container: `SurvivalContainer` (HBoxContainer)
- CheckButton: "ะะบะปััะธัั (7 ะถะธะทะฝะตะน) / Enable (7 lives)"
- ะะฐะทะดะตะปะธัะตะปั HSeparator4

### 3. scripts/SaveManager.gd
**ะะพะฑะฐะฒะปะตะฝะพ:**
- ะะตัะพะด `save_settings(settings: Dictionary)` - ัะฝะธะฒะตััะฐะปัะฝะพะต ัะพััะฐะฝะตะฝะธะต
- ะะตัะพะด `load_settings() -> Dictionary` - ัะฝะธะฒะตััะฐะปัะฝะฐั ะทะฐะณััะทะบะฐ
- ะะตัะพะด `save_survival_mode(enabled: bool)` - ัะพััะฐะฝะตะฝะธะต ัะตะถะธะผะฐ ะฒัะถะธะฒะฐะฝะธั
- ะะตัะพะด `load_survival_mode() -> bool` - ะทะฐะณััะทะบะฐ ัะตะถะธะผะฐ ะฒัะถะธะฒะฐะฝะธั

**ะะทะผะตะฝะตะฝะพ:**
- `save_game_mode()` ะธ `load_game_mode()` ัะตะฟะตัั ะธัะฟะพะปัะทััั ะพะฑัะธะต ะผะตัะพะดั
- ะัะต ะฝะฐัััะพะนะบะธ ัะพััะฐะฝััััั ะฒ ะพะดะฝะพะผ ัะปะพะฒะฐัะต `{"game_mode": ..., "survival_mode": ...}`

### 4. scripts/GameController.gd
**ะะทะผะตะฝะตะฝะพ:**
- ะกััะพะบะฐ 66: ะดะพะฑะฐะฒะปะตะฝะพ ะฟะพะดะบะปััะตะฝะธะต ัะธะณะฝะฐะปะฐ `survival_mode_changed`
- ะกััะพะบะฐ 75: ัะฑัะฐะฝะฐ ะฟัะธะฝัะดะธัะตะปัะฝะฐั ะฐะบัะธะฒะฐัะธั ัะตะถะธะผะฐ ะฒัะถะธะฒะฐะฝะธั
- ะกััะพะบะฐ 75: ะดะพะฑะฐะฒะปะตะฝ ะฒัะทะพะฒ `_load_survival_mode_setting()`

**ะะพะฑะฐะฒะปะตะฝะพ:**
- ะะตัะพะด `_on_survival_mode_changed(enabled: bool)` - ะพะฑัะฐะฑะพััะธะบ ะฒะบะปััะตะฝะธั/ะฒัะบะปััะตะฝะธั
- ะะตัะพะด `_load_survival_mode_setting()` - ะทะฐะณััะทะบะฐ ัะพััะฐะฝัะฝะฝะพะน ะฝะฐัััะพะนะบะธ

### 5. ะะพะบัะผะตะฝัะฐัะธั
**ะกะพะทะดะฐะฝะพ:**
- `SURVIVAL_MODE_SETUP.md` - ะบัะฐัะบะฐั ะธะฝััััะบัะธั ะฟะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั
- `CHANGELOG_SURVIVAL.md` - ััะพั ัะฐะนะป

**ะะฑะฝะพะฒะปะตะฝะพ:**
- `GAME_MODES_README.md` - ะดะพะฑะฐะฒะปะตะฝะฐ ะธะฝัะพัะผะฐัะธั ะพ ัะตะถะธะผะต ะฒัะถะธะฒะฐะฝะธั
- ะะฑะฝะพะฒะปะตะฝะฐ ะฐััะธัะตะบัััะฐ, ัะธะณะฝะฐะปั, ัะตััะธัะพะฒะฐะฝะธะต

## ๐ฎ ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

### ะะพ ะธะทะผะตะฝะตะฝะธะน:
```gdscript
// ะ GameController._ready():
is_survival_mode = true  // ะัะธะฝัะดะธัะตะปัะฝะพ ะฒะบะปัััะฝ
survival_ui.activate()   // ะัะตะณะดะฐ ะฟะพะบะฐะทัะฒะฐะตััั
```

### ะะพัะปะต ะธะทะผะตะฝะตะฝะธะน:
```gdscript
// ะ GameController._ready():
_load_survival_mode_setting()  // ะะฐะณััะถะฐะตััั ะธะท ัะพััะฐะฝะตะฝะธั

// ะัะปะธ enabled = true (ัะพััะฐะฝะตะฝะพ):
survival_ui.activate()  // ะะพะบะฐะทัะฒะฐัััั ัะตัะดะตัะบะธ

// ะัะปะธ enabled = false (ะฟะพ ัะผะพะปัะฐะฝะธั):
survival_ui.deactivate()  // ะกะตัะดะตัะบะธ ัะบัััั
```

### ะะพะปัะทะพะฒะฐัะตะปััะบะธะน workflow:
1. ะะณัะพะบ ะทะฐะฟััะบะฐะตั ะธะณัั โ ัะตะถะธะผ ะฒัะบะปััะตะฝ (ะฝะตั ัะตัะดะตัะตะบ)
2. ะัะบััะฒะฐะตั ะผะตะฝั โ๏ธ โ ะฒะธะดะธั CheckButton
3. ะะบะปััะฐะตั CheckButton โ ะฟะพัะฒะปััััั ัะตัะดะตัะบะธ โค๏ธ
4. ะะณัะฐะตั ั ัะตะถะธะผะพะผ ะฒัะถะธะฒะฐะฝะธั
5. ะะฐะบััะฒะฐะตั ะธะณัั โ ะฝะฐัััะพะนะบะฐ ัะพััะฐะฝัะตััั
6. ะะฐะฟััะบะฐะตั ะธะณัั ัะฝะพะฒะฐ โ ัะตัะดะตัะบะธ ัะถะต ะตััั (ะฝะฐัััะพะนะบะฐ ะทะฐะณััะทะธะปะฐัั)

## ๐ง ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

### ะกัะตะผะฐ ัะธะณะฝะฐะปะพะฒ:
```
ะะพะปัะทะพะฒะฐัะตะปั ะบะปะธะบะฐะตั CheckButton
    โ
CheckButton.toggled(pressed: bool)
    โ
SettingsPopup._on_survival_toggled(pressed: bool)
    โ
survival_mode_changed.emit(pressed)  // ะกะธะณะฝะฐะป
    โ
GameController._on_survival_mode_changed(enabled: bool)
    โ
โโ SaveManager.save_survival_mode(enabled)  // ะกะพััะฐะฝะตะฝะธะต
โโ survival_ui.activate() ะธะปะธ deactivate()  // ะะพะบะฐะทะฐัั/ัะบัััั
```

### ะคะพัะผะฐั ัะพััะฐะฝะตะฝะธั:
```json
// user://baccarat_settings.save
{
  "game_mode": "junket",      // ะธะปะธ "classic"
  "survival_mode": false      // ะธะปะธ true
}
```

## โ ะัะพะฒะตัะบะฐ ัะฐะฑะพัั

### ะขะตัั 1: ะะบะปััะตะฝะธะต ัะตะถะธะผะฐ
1. ะะฐะฟัััะธัะต ะธะณัั
2. ะัะบัะพะนัะต ะผะตะฝั โ๏ธ
3. ะะบะปััะธัะต CheckButton "ะะบะปััะธัั (7 ะถะธะทะฝะตะน)"
4. ะะฐะบัะพะนัะต ะผะตะฝั
5. **ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:** 7 ัะตัะดะตัะตะบ โค๏ธ ะฟะพัะฒะธะปะธัั

### ะขะตัั 2: ะกะพััะฐะฝะตะฝะธะต ะฝะฐัััะพะนะบะธ
1. ะะบะปััะธัะต ัะตะถะธะผ (ะบะฐะบ ะฒ ะขะตััะต 1)
2. ะะฐะบัะพะนัะต ะธะณัั ะฟะพะปะฝะพัััั
3. ะะฐะฟัััะธัะต ะธะณัั ัะฝะพะฒะฐ
4. **ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:** ะกะตัะดะตัะบะธ ัะถะต ะพัะพะฑัะฐะถะฐัััั

### ะขะตัั 3: ะัะบะปััะตะฝะธะต ัะตะถะธะผะฐ
1. ะัะธ ะฒะบะปัััะฝะฝะพะผ ัะตะถะธะผะต ะพัะบัะพะนัะต ะผะตะฝั โ๏ธ
2. ะัะบะปััะธัะต CheckButton
3. ะะฐะบัะพะนัะต ะผะตะฝั
4. **ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:** ะกะตัะดะตัะบะธ ะธััะตะทะปะธ

### ะขะตัั 4: ะะพัะตัั ะถะธะทะฝะธ
1. ะะบะปััะธัะต ัะตะถะธะผ
2. ะกะดะตะปะฐะนัะต ะพัะธะฑะบั (ะฝะฐะฟัะธะผะตั, ะฒัะฑะตัะธัะต ะฝะตะฟัะฐะฒะธะปัะฝะพะณะพ ะฟะพะฑะตะดะธัะตะปั)
3. **ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**
   - ะะดะฝะพ ัะตัะดะตัะบะพ ััะฐะปะพ ัััะฝัะผ ๐ค
   - ะะฝะธะผะฐัะธั ะผะธะณะฐะฝะธั
   - ะััะฐะปะพัั 6 ะบัะฐัะฝัั โค๏ธ

### ะขะตัั 5: Game Over
1. ะะบะปััะธัะต ัะตะถะธะผ
2. ะกะดะตะปะฐะนัะต 7 ะพัะธะฑะพะบ ะฟะพะดััะด
3. **ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**
   - ะัะต ัะตัะดะตัะบะธ ัััะฝัะต ๐ค๐ค๐ค๐ค๐ค๐ค๐ค
   - ะะพัะฒะธะปัั ะฟะพะฟะฐะฟ "GAME OVER"
   - ะะพะบะฐะทะฐะฝ ัััััะธะบ ัะฐัะฝะดะพะฒ

## ๐จ UI ะะฐะบะตั ะผะตะฝั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   โ๏ธ ะะะกะขะะะะะ / SETTINGS           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ะะตะถะธะผ ะธะณัั / Game Mode:             โ
โ [Junket]  [Classic]                 โ
โ Junket: 2000-200K, 95% banker       โ
โ Classic: 50-3K, 50% banker          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ะฏะทัะบ / Language:                    โ
โ [ะัััะบะธะน]  [English]                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ะะตะถะธะผ ะฒัะถะธะฒะฐะฝะธั / Survival Mode:    โ โ ะะะะะ!
โ โ ะะบะปััะธัั (7 ะถะธะทะฝะตะน) / Enable...  โ โ ะะะะะ!
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ        [ะะฐะบัััั / Close]            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะกัะฐัะธััะธะบะฐ ะธะทะผะตะฝะตะฝะธะน

- **ะคะฐะนะปะพะฒ ะธะทะผะตะฝะตะฝะพ:** 4
- **ะคะฐะนะปะพะฒ ัะพะทะดะฐะฝะพ:** 2 (ะดะพะบัะผะตะฝัะฐัะธั)
- **ะกััะพะบ ะบะพะดะฐ ะดะพะฑะฐะฒะปะตะฝะพ:** ~100
- **ะะพะฒัั ะผะตัะพะดะพะฒ:** 6
- **ะะพะฒัั ัะธะณะฝะฐะปะพะฒ:** 1
- **ะะพะฒัั UI ัะปะตะผะตะฝัะพะฒ:** 3 (Label, Container, CheckButton)

## ๐ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!

ะัะต ะธะทะผะตะฝะตะฝะธั ะทะฐะฒะตััะตะฝั. ะะตะถะธะผ ะฒัะถะธะฒะฐะฝะธั ะฟะพะปะฝะพัััั ะธะฝัะตะณัะธัะพะฒะฐะฝ ะธ ะณะพัะพะฒ ะบ ัะตััะธัะพะฒะฐะฝะธั.

**ะกะปะตะดัััะธะต ัะฐะณะธ:**
1. ะะฐะฟัััะธัะต ะธะณัั ะฒ Godot
2. ะัะพะฒะตัััะต, ััะพ ะผะตะฝั โ๏ธ ะพัะบััะฒะฐะตััั
3. ะะบะปััะธัะต ัะตะถะธะผ ะฒัะถะธะฒะฐะฝะธั
4. ะัะพัะตััะธััะนัะต ะฟะพัะตัั ะถะธะทะฝะตะน
5. ะัะพะฒะตัััะต ัะพััะฐะฝะตะฝะธะต ะฝะฐัััะพะนะบะธ

---

โจ **ะะพัะพะฒะพ!** โจ
