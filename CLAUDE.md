# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

**–ë–∞–∫–∫–∞—Ä–∞ 5.9** - —Ç—Ä–µ–Ω–∞–∂—ë—Ä –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª–∞–º –∏–≥—Ä—ã –≤ –±–∞–∫–∫–∞—Ä–∞, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –Ω–∞ Godot 4.5. –ü—Ä–æ–µ–∫—Ç –ø–æ–º–æ–≥–∞–µ—Ç –¥–∏–ª–µ—Ä–∞–º –∏ –∫—Ä—É–ø—å–µ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å:
- –ó–Ω–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –¥–æ–±–æ—Ä–∞ —Ç—Ä–µ—Ç—å–µ–π –∫–∞—Ä—Ç—ã
- –†–∞—Å—á—ë—Ç –≤—ã–ø–ª–∞—Ç —Å –∫–æ–º–∏—Å—Å–∏–µ–π 5% –Ω–∞ –±–∞–Ω–∫–∏—Ä–∞
- –†–∞—Å—á—ë—Ç –≤—ã–ø–ª–∞—Ç 8:1 –Ω–∞ –Ω–∏—á—å—é
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è

–ò–≥—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (—Ä—É—Å—Å–∫–∏–π/–∞–Ω–≥–ª–∏–π—Å–∫–∏–π), —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–∂–æ–π–ø–∞–¥–æ–º, –∏–º–µ–µ—Ç —Å–∏—Å—Ç–µ–º—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ª–∏–º–∏—Ç—ã —Å—Ç–æ–ª–∞.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä: GameController

`scripts/GameController.gd` - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã:

```gdscript
- deck: Deck - –∫–æ–ª–æ–¥–∞ –∫–∞—Ä—Ç (52 –∫–∞—Ä—Ç—ã, –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏)
- card_manager: CardTextureManager - –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—Å—Ç—É—Ä –∫–∞—Ä—Ç –∏–∑ assets/cards/
- ui_manager: UIManager - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ UI —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏
- phase_manager: GamePhaseManager - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π
- toast_manager: ToastManager - –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞/–∏–Ω—Ñ–æ)
- bet_manager: BetManager - —Ä–∞—Å—á—ë—Ç —Å—Ç–∞–≤–æ–∫ –∏ –≤—ã–ø–ª–∞—Ç
- stats_manager: StatsManager - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö/–æ—à–∏–±–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- limits_manager: LimitsManager - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞–º–∏ —Å—Ç–æ–ª–∞
```

### –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏

–ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ **GameStateManager** (autoload singleton) –∏ **GamePhaseManager**.

**GameStateManager** (`scripts/GameStateManager.gd`) - –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π:
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–∞—Ä—Ç –Ω–∞ —Å—Ç–æ–ª–µ
- 6 —Å–æ—Å—Ç–æ—è–Ω–∏–π: WAITING, CARD_TO_EACH, CARD_TO_PLAYER, CARD_TO_BANKER, CARD_TO_BANKER_AFTER_PLAYER, CHOOSE_WINNER
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: `is_action_valid(action)`
- –í—ã–¥–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö: `get_error_message(action)`
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑–¥–∞—á–∏: `can_change_settings()`

**GamePhaseManager** (`scripts/GamePhaseManager.gd`) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º:
- –†–∞–∑–¥–∞—á–∞ –∫–∞—Ä—Ç: `deal_first_four()`, `draw_player_third()`, `draw_banker_third()`
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π –∏–≥—Ä–æ–∫–∞: `_validate_and_execute_third_cards()`, `_validate_banker_after_player()`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ GameStateManager –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ UI toggles –∏ –∫–Ω–æ–ø–∫–∞–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ä–µ–∂–∏–º–∞ –≤—ã–∂–∏–≤–∞–Ω–∏—è

**–°–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã** (enum GameStateManager.GameState):
1. **WAITING** - –∫–∞—Ä—Ç—ã —Å–∫—Ä—ã—Ç—ã, –æ–∂–∏–¥–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–ö–∞—Ä—Ç—ã"
2. **CARD_TO_EACH** - –±–∞–Ω–∫–∏—Ä 0-2, –∏–≥—Ä–æ–∫ 0-5 ‚Üí –∫–∞—Ä—Ç–∞ –∫–∞–∂–¥–æ–º—É
3. **CARD_TO_PLAYER** - –±–∞–Ω–∫–∏—Ä 3-7, –∏–≥—Ä–æ–∫ 0-5 ‚Üí –∫–∞—Ä—Ç–∞ –∏–≥—Ä–æ–∫—É
4. **CARD_TO_BANKER** - –±–∞–Ω–∫–∏—Ä 0-5, –∏–≥—Ä–æ–∫ 6-7 ‚Üí –∫–∞—Ä—Ç–∞ –±–∞–Ω–∫–∏—Ä—É
5. **CARD_TO_BANKER_AFTER_PLAYER** - –±–∞–Ω–∫–∏—Ä 3-6 –ø–æ—Å–ª–µ —Ç—Ä–µ—Ç—å–µ–π –∏–≥—Ä–æ–∫–∞
6. **CHOOSE_WINNER** - –≤—Å–µ –∫–∞—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã, –≤—ã–±–æ—Ä –ø–æ–±–µ–¥–∏—Ç–µ–ª—è

### –ü—Ä–∞–≤–∏–ª–∞ –±–∞–∫–∫–∞—Ä–∞: BaccaratRules

`scripts/BaccaratRules.gd` - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–ª–∞—Å—Å —Å –ª–æ–≥–∏–∫–æ–π:

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã**:
- `hand_value(hand: Array[Card]) -> int` - —Å—É–º–º–∞ –æ—á–∫–æ–≤ % 10
- `is_natural(hand) -> bool` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–π 8 –∏–ª–∏ 9
- `player_should_draw(player_hand) -> bool` - –∏–≥—Ä–æ–∫ –±–µ—Ä—ë—Ç –ø—Ä–∏ ‚â§5
- `banker_should_draw(banker_hand, player_drew, player_third) -> bool` - —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–∞–Ω–∫–∏—Ä–∞:
  - 0-2: –≤—Å–µ–≥–¥–∞ –±–µ—Ä—ë—Ç
  - 7-9: –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±–µ—Ä—ë—Ç
  - 3-6: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—Ä–µ—Ç—å–µ–π –∫–∞—Ä—Ç—ã –∏–≥—Ä–æ–∫–∞ (—Å–º. —Ç–∞–±–ª–∏—Ü—É –≤ –º–µ—Ç–æ–¥–µ)
- `get_winner(player_hand, banker_hand) -> String` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "Player"/"Banker"/"Tie"

### UI —Å–∏—Å—Ç–µ–º–∞: UIManager

`scripts/UIManager.gd` - —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏ UI —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª—ã:

**–°–∏–≥–Ω–∞–ª—ã**:
- `action_button_pressed()` - –∫–Ω–æ–ø–∫–∞ "–†–∞–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—ã" / "–û—Ç–∫—Ä—ã—Ç—å"
- `player_third_toggled(selected: bool)` - –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç—Ä–µ—Ç—å–µ–π –∫–∞—Ä—Ç—ã –∏–≥—Ä–æ–∫–∞
- `banker_third_toggled(selected: bool)` - –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç—Ä–µ—Ç—å–µ–π –∫–∞—Ä—Ç—ã –±–∞–Ω–∫–∏—Ä–∞
- `winner_selected(winner: String)` - –≤—ã–±—Ä–∞–Ω –ø–æ–±–µ–¥–∏—Ç–µ–ª—å (Player/Banker/Tie)
- `help_button_pressed()` - –∫–Ω–æ–ø–∫–∞ –ø–æ–º–æ—â–∏
- `lang_button_pressed()` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞

**–í–∞–∂–Ω–æ**: UIManager –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ CardTextureManager –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç—É—Ä–∞–º–∏ —Ä—É–±–∞—à–µ–∫ (?, !, –æ–±—ã—á–Ω–∞—è).

### –°–∏—Å—Ç–µ–º–∞ –≤—ã–ø–ª–∞—Ç —Å —Ñ–∏—à–∫–∞–º–∏ (–≠—Ç–∞–ø 1)

**PayoutPopup** (`scripts/popups/PayoutPopup.gd`) - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä UI –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –≤—ã–ø–ª–∞—Ç:
- –ü–æ–∫–∞–∑ –ø–æ–ø–∞–ø–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç–∞–≤–∫–µ –∏ –≤—ã–ø–ª–∞—Ç–µ
- –§–ª–æ—Ç —Ñ–∏—à–µ–∫ —Ä–∞–∑–Ω—ã—Ö –Ω–æ–º–∏–Ω–∞–ª–æ–≤ (100000, 50000, ..., 0.5)
- –†–µ–∂–∏–º—ã: Basic (6 –Ω–æ–º–∏–Ω–∞–ª–æ–≤) –∏ Full (12 –Ω–æ–º–∏–Ω–∞–ª–æ–≤)
- –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥—Å–∫–∞–∑–∫–∞" –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞
- –°–∏–≥–Ω–∞–ª—ã: payout_confirmed(is_correct, collected, expected), hint_used()

**ChipStack** (`scripts/chip_system/ChipStack.gd`) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Ç–æ–ø–∫–æ–π —Ñ–∏—à–µ–∫:
- –ú–∞–∫—Å–∏–º—É–º 20 —Ñ–∏—à–µ–∫ –≤ —Å—Ç–æ–ø–∫–µ (ChipStack.MAX_CHIPS)
- –ú–µ—Ç–æ–¥—ã: add_chip(), remove_chip(), get_total(), is_empty()
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: update_scale(scale)
- –°–∏–≥–Ω–∞–ª—ã: chip_added, chip_removed, stack_empty, total_changed

**ChipStackManager** (`scripts/chip_system/ChipStackManager.gd`) - –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å—Ç–æ–ø–æ–∫:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–æ—Ç –∫—Ä—É–ø–Ω—ã—Ö –∫ –º–µ–ª–∫–∏–º –Ω–æ–º–∏–Ω–∞–ª–∞–º)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ 6‚Üî10 —Å–ª–æ—Ç–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç–æ–ø–æ–∫
- –ú–µ—Ç–æ–¥—ã: add_chip(denomination), remove_chip(denomination), clear_all()
- –°–∏–≥–Ω–∞–ª—ã: total_changed, slots_changed, stack_added, stack_removed

**PayoutValidator** (`scripts/chip_system/PayoutValidator.gd`) - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã–ø–ª–∞—Ç:
- validate(collected, expected) ‚Üí bool (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å—é Œµ=0.01)
- get_error_message(collected, expected) ‚Üí String
- calculate_hint(target_amount, denominations) ‚Üí Array (–∂–∞–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º)

**–õ–æ–≥–∏–∫–∞ –≤—ã–ø–ª–∞—Ç**:
- **–ë–∞–Ω–∫–∏—Ä**: stake √ó 0.95 (–∫–æ–º–∏—Å—Å–∏—è 5%)
  - –û—Å–æ–±–æ–µ –ø—Ä–∞–≤–∏–ª–æ: Classic mode + –≤—ã–∏–≥—Ä—ã—à —Å 6 ‚Üí stake √ó 0.5
- **–ò–≥—Ä–æ–∫**: stake √ó 1.0
- **–ù–∏—á—å—è**: stake √ó 8.0

### –õ–∏–º–∏—Ç—ã —Å—Ç–æ–ª–∞: LimitsManager

`scripts/LimitsManager.gd` - —É–ø—Ä–∞–≤–ª—è–µ—Ç min/max/step –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫ –∏ TIE:

```gdscript
- min_bet, max_bet, step - –¥–ª—è Player/Banker
- tie_min, tie_max, tie_step - –¥–ª—è Tie (–æ–±—ã—á–Ω–æ –º–µ–Ω—å—à–µ)
```

–ú–µ—Ç–æ–¥—ã:
- `generate_bet() -> int` - —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ª–∏–º–∏—Ç–æ–≤
- `generate_tie_bet() -> int` - —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –¥–ª—è TIE

### Autoload —Å–∏–Ω–≥–ª—Ç–æ–Ω—ã

**SaveManager** (`scripts/SaveManager.gd`):
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –ü—É—Ç—å: `user://save_data.json`

**Localization** (`scripts/Localization.gd`):
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ru/en
- –ú–µ—Ç–æ–¥ `t(key: String, args: Array = []) -> String` - –ø–µ—Ä–µ–≤–æ–¥ —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π
- `set_lang(lang: String)`, `get_lang() -> String`

**EventBus** (`scripts/autoload/EventBus.gd`):
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π (event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- 28 —Å–∏–≥–Ω–∞–ª–æ–≤ –ø–æ 8 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
  - üéÆ –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å: cards_dealt, player_third_drawn, banker_third_drawn, game_completed, round_reset
  - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: action_correct, winner_correct
  - ‚ùå –û—à–∏–±–∫–∏: action_error
  - üí∞ –í—ã–ø–ª–∞—Ç—ã: show_payout_popup, payout_correct, payout_wrong, hint_used
  - üì¢ Toast: show_toast_info, show_toast_success, show_toast_error
  - ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏: game_mode_changed, language_changed, survival_mode_changed, table_limits_changed
  - üíî –†–µ–∂–∏–º –≤—ã–∂–∏–≤–∞–Ω–∏—è: life_lost, game_over, game_restarted
  - üìä –°–æ—Å—Ç–æ—è–Ω–∏—è: game_state_changed

**GameStateManager** (`scripts/autoload/GameStateManager.gd`):
- –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏–≥—Ä—ã
- 6 —Å–æ—Å—Ç–æ—è–Ω–∏–π: WAITING, CARD_TO_EACH, CARD_TO_PLAYER, CARD_TO_BANKER, CARD_TO_BANKER_AFTER_PLAYER, CHOOSE_WINNER
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (determine_state())
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π: is_action_valid(), get_error_message()
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑–¥–∞—á–∏: can_change_settings()

**StatsManager** (`scripts/StatsManager.gd`):
- Autoload singleton (–ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ EventBus)
- –°–∏–≥–Ω–∞–ª—ã: action_correct, action_error, payout_correct, payout_wrong
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è

**ToastManager** (`scripts/ToastManager.gd`):
- Autoload singleton (–ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ EventBus)
- –°–∏–≥–Ω–∞–ª—ã: show_toast_info, show_toast_success, show_toast_error
- Object pooling –¥–ª—è Toast —É–∑–ª–æ–≤ (–ø—É–ª –∏–∑ 5 —É–∑–ª–æ–≤)
- ToastPool –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–º–µ—Å—Ç–æ create/destroy

## –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å

1. **–°—Ç–∞—Ä—Ç** ‚Üí WAITING
   - –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ä—É–±–∞—à–∫–∏ –∫–∞—Ä—Ç
   - Toggles —Ç—Ä–µ—Ç—å–∏—Ö –∫–∞—Ä—Ç **–æ—Ç–∫–ª—é—á–µ–Ω—ã** (mouse_filter = IGNORE, –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ)
   - –ö–Ω–æ–ø–∫–∞ "–†–∞–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—ã" –∞–∫—Ç–∏–≤–Ω–∞
   - –ü–æ–ø—ã—Ç–∫–∞ –≤—ã–±—Ä–∞—Ç—å –ø–æ–±–µ–¥–∏—Ç–µ–ª—è ‚Üí toast –±–µ–∑ —à—Ç—Ä–∞—Ñ–∞

2. **–†–∞–∑–¥–∞—á–∞** ‚Üí CARD_TO_PLAYER / CARD_TO_BANKER / CARD_TO_EACH
   - –†–∞–∑–¥–∞—é—Ç—Å—è 4 –∫–∞—Ä—Ç—ã (2 –∏–≥—Ä–æ–∫—É, 2 –±–∞–Ω–∫–∏—Ä—É)
   - Toggles **–≤–∫–ª—é—á–∞—é—Ç—Å—è** (–º–æ–∂–Ω–æ –∑–∞–∫–∞–∑—ã–≤–∞—Ç—å —Ç—Ä–µ—Ç—å–∏ –∫–∞—Ä—Ç—ã)
   - GameStateManager –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—á–∫–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã—Ö (8-9) ‚Üí —Å—Ä–∞–∑—É CHOOSE_WINNER

3. **–ó–∞–∫–∞–∑ —Ç—Ä–µ—Ç—å–∏—Ö –∫–∞—Ä—Ç** ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ GamePhaseManager
   - –ò–≥—Ä–æ–∫ —Å—Ç–∞–≤–∏—Ç –≥–∞–ª–æ—á–∫–∏ –Ω–∞ toggles (? ‚Üî !)
   - –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–∫–∞—Ä—Ç—ã" –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - `_validate_and_execute_third_cards()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å
   - –ï—Å–ª–∏ **–ø—Ä–∞–≤–∏–ª—å–Ω–æ** ‚Üí —Ä–∞–∑–¥–∞—á–∞ –∫–∞—Ä—Ç—ã, toggle —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è
   - –ï—Å–ª–∏ **–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ** ‚Üí toast —Å –æ—à–∏–±–∫–æ–π, —à—Ç—Ä–∞—Ñ (–∂–∏–∑–Ω—å/–æ—á–∫–∏), toggle –æ—Å—Ç–∞–µ—Ç—Å—è

4. **–ë–∞–Ω–∫–∏—Ä –ø–æ—Å–ª–µ –∏–≥—Ä–æ–∫–∞** ‚Üí CARD_TO_BANKER_AFTER_PLAYER
   - –ü–æ—Å–ª–µ —Ä–∞–∑–¥–∞—á–∏ —Ç—Ä–µ—Ç—å–µ–π –∫–∞—Ä—Ç—ã –∏–≥—Ä–æ–∫—É
   - `_handle_banker_after_player()` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç toast "–†–µ—à–µ–Ω–∏–µ –±–∞–Ω–∫–∏—Ä–∞"
   - –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç toggle –±–∞–Ω–∫–∏—Ä–∞, –Ω–∞–∂–∏–º–∞–µ—Ç "–∫–∞—Ä—Ç—ã"
   - `_validate_banker_after_player()` –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤—ã–±–æ—Ä

5. **–í—ã–±–æ—Ä –ø–æ–±–µ–¥–∏—Ç–µ–ª—è** ‚Üí CHOOSE_WINNER
   - –í—Å–µ –∫–∞—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã, –∫–Ω–æ–ø–∫–∞ "–∫–∞—Ä—Ç—ã" **–æ—Ç–∫–ª—é—á–µ–Ω–∞**
   - –ò–≥—Ä–æ–∫ –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –º–∞—Ä–∫–µ—Ä (Player/Banker/Tie)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `GameStateManager.is_action_valid(SELECT_WINNER)`
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å `BaccaratRules.get_winner()`
   - –ï—Å–ª–∏ **–ø—Ä–∞–≤–∏–ª—å–Ω–æ** ‚Üí PayoutPopup –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –≤—ã–ø–ª–∞—Ç—ã
   - –ï—Å–ª–∏ **–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ** ‚Üí toast —Å –æ—à–∏–±–∫–æ–π, —à—Ç—Ä–∞—Ñ

6. **–†–∞—Å—á—ë—Ç –≤—ã–ø–ª–∞—Ç—ã** (PayoutPopup)
   - –§–ª–æ—Ç —Ñ–∏—à–µ–∫ —Ä–∞–∑–Ω—ã—Ö –Ω–æ–º–∏–Ω–∞–ª–æ–≤ (100000, 50000, ..., 0.5)
   - –ò–≥—Ä–æ–∫ —Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–æ–ø–∫–∏ —Ñ–∏—à–µ–∫ (max 20 –≤ —Å—Ç–æ–ø–∫–µ)
   - –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥—Å–∫–∞–∑–∫–∞" ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç (–∂–∞–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `PayoutValidator.validate(collected, expected)`
   - –ï—Å–ª–∏ **–ø—Ä–∞–≤–∏–ª—å–Ω–æ** ‚Üí —Å–±—Ä–æ—Å —Ä–∞—É–Ω–¥–∞, +1 –æ—á–∫–æ
   - –ï—Å–ª–∏ **–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ** ‚Üí toast —Å –æ—à–∏–±–∫–æ–π, —à—Ç—Ä–∞—Ñ

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: GameConfig

`resources/GameConfig.gd` - —Ä–µ—Å—É—Ä—Å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:

```gdscript
@export var card_paths: Dictionary  # –ü—É—Ç–∏ –∫ —Ç–µ–∫—Å—Ç—É—Ä–∞–º –∫–∞—Ä—Ç
@export var back_card_path: String  # –û–±—ã—á–Ω–∞—è —Ä—É–±–∞—à–∫–∞
@export var back_question_path: String  # –†—É–±–∞—à–∫–∞ —Å ?
@export var back_exclamation_path: String  # –†—É–±–∞—à–∫–∞ —Å !
@export var commission_rate: float = 0.95  # –ö–æ–º–∏—Å—Å–∏—è –±–∞–Ω–∫–∏—Ä–∞
@export var table_min_bet, table_max_bet, table_step: int
@export var tie_min_bet, tie_max_bet, tie_step: int
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **GUT (Godot Unit Testing)** framework:

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤**:
1. –í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ: –Ω–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å ‚Üí GUT ‚Üí Run All
2. –ò–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏: `godot --path . --headless --script addons/gut/gut_cmdln.gd`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤**:
- `tests/test_baccarat_rules.gd` - —Ç–µ—Å—Ç—ã –ø—Ä–∞–≤–∏–ª –±–∞–∫–∫–∞—Ä–∞

**–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞**:
```gdscript
extends GutTest

func test_something():
    assert_eq(expected, actual, "Optional message")
```

## –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–∞—Ä—Ç—ã

–ö–ª–∞—Å—Å `Card` (`scripts/Card.gd`):
```gdscript
var suit: String  # "clubs", "hearts", "spades", "diamonds"
var rank: String  # "A", "2"-"10", "J", "Q", "K"

func get_point() -> int:
    # A=1, 2-9=–Ω–æ–º–∏–Ω–∞–ª, 10/J/Q/K=0
```

### –ö–æ–ª–æ–¥–∞

`scripts/Deck.gd`:
- 52 –∫–∞—Ä—Ç—ã, –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
- `draw() -> Card` - –≤–∑—è—Ç—å –∫–∞—Ä—Ç—É
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è –ø—Ä–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏ (–¥–ª—è —Ç—Ä–µ–Ω–∞–∂—ë—Ä–∞ —ç—Ç–æ –Ω–æ—Ä–º–∞)

### Toast —Å–∏—Å—Ç–µ–º–∞

`scripts/ToastManager.gd` + `scripts/Toast.gd`:
- `show_success(text)` - –∑–µ–ª—ë–Ω—ã–π toast
- `show_error(text)` - –∫—Ä–∞—Å–Ω—ã–π toast
- `show_info(text)` - —Å–µ—Ä—ã–π toast
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å—á–µ–∑–∞—é—Ç —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

`scripts/StatsManager.gd`:
- –•—Ä–∞–Ω–∏—Ç —Å—á—ë—Ç—á–∏–∫–∏: `correct`, `errors` (—Å–ª–æ–≤–∞—Ä—å –ø–æ —Ç–∏–ø–∞–º)
- `increment_correct()` - +1 –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
- `increment_error(error_type: String)` - +1 –æ—à–∏–±–∫–∞ —Ç–∏–ø–∞
- –¢–∏–ø—ã –æ—à–∏–±–æ–∫: "player_third_wrong", "banker_third_wrong", "winner_wrong", "commission_wrong", "tie_payout_wrong"
- `update_stats()` - –æ–±–Ω–æ–≤–ª—è–µ—Ç Label –≤ UI

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ / –ú—ã—à—å
- –í—Å–µ –∫–Ω–æ–ø–∫–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã
- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ —Ç—Ä–µ—Ç—å–µ–π –∫–∞—Ä—Ç—ã - –∫–ª–∏–∫ –ø–æ TextureRect

### –î–∂–æ–π–ø–∞–¥
–ù–∞—Å—Ç—Ä–æ–µ–Ω—ã InputMap actions –≤ `project.godot`:
- `deal` - —Ä–∞–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—ã (–∫–Ω–æ–ø–∫–∞ 9)
- `open_cards` - –æ—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—ã (–∫–Ω–æ–ø–∫–∞ 9)
- `player_third` - —Ç—Ä–µ—Ç—å—è –∫–∞—Ä—Ç–∞ –∏–≥—Ä–æ–∫–∞ (–∫–Ω–æ–ø–∫–∞ 4)
- `banker_third` - —Ç—Ä–µ—Ç—å—è –∫–∞—Ä—Ç–∞ –±–∞–Ω–∫–∏—Ä–∞ (–∫–Ω–æ–ø–∫–∞ 3)
- `select_player` - –≤—ã–±—Ä–∞—Ç—å –∏–≥—Ä–æ–∫–∞ (–∫–Ω–æ–ø–∫–∞ 5)
- `select_banker` - –≤—ã–±—Ä–∞—Ç—å –±–∞–Ω–∫–∏—Ä–∞ (–∫–Ω–æ–ø–∫–∞ 2)
- `select_tie` - –≤—ã–±—Ä–∞—Ç—å –Ω–∏—á—å—é (–∫–Ω–æ–ø–∫–∞ 1)
- `confirm` - –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å (–∫–Ω–æ–ø–∫–∞ 9)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ü–µ–Ω—ã Game.tscn

–ì–ª–∞–≤–Ω–∞—è —Å—Ü–µ–Ω–∞: `scenes/Game.tscn`

–ò–µ—Ä–∞—Ä—Ö–∏—è —É–∑–ª–æ–≤:
- **PlayerZone** - –∑–æ–Ω–∞ –∫–∞—Ä—Ç –∏–≥—Ä–æ–∫–∞
  - Card1, Card2, Card3 (TextureRect)
  - PlayerThirdCardToggle (TextureRect) - –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å ?/!
- **BankerZone** - –∑–æ–Ω–∞ –∫–∞—Ä—Ç –±–∞–Ω–∫–∏—Ä–∞
  - Card1, Card2, Card3 (TextureRect)
  - BankerThirdCardToggle (TextureRect)
- **CardsButton** - –≥–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
- **PlayerMarker**, **BankerMarker**, **TieMarker** - –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
- **BetChip**, **TieChip** - –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–æ–∫–∞–∑–∞ –ø–æ–ø–∞–ø–æ–≤ —Å—Ç–∞–≤–æ–∫
- **BetPopup** (PopupPanel) - –ø–æ–ø–∞–ø –≤–≤–æ–¥–∞ –≤—ã–ø–ª–∞—Ç—ã
- **LimitsPopup** (PopupPanel) - –ø–æ–ø–∞–ø –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∏–º–∏—Ç–æ–≤
- **HelpPopup** - –ø–æ–ø–∞–ø –ø–æ–º–æ—â–∏
- **StatsLabel** - Label —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- **HelpButton** - –∫–Ω–æ–ø–∫–∞ –ø–æ–º–æ—â–∏
- **LangButton** - –∫–Ω–æ–ø–∫–∞ —Å–º–µ–Ω—ã —è–∑—ã–∫–∞
- **LimitsButton** - –∫–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∏–º–∏—Ç–æ–≤

## –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

–ò–∑ `redme.txt` (–ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫):

1. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–ø–ª–∞—Ç—ã —Å —Ñ–∏—à–∫–∞–º–∏** - –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—á—ë—Ç–∞ –≤—ã–ø–ª–∞—Ç:
   - –§–ª–æ—Ç —Ñ–∏—à–µ–∫ —Ä–∞–∑–Ω—ã—Ö –Ω–æ–º–∏–Ω–∞–ª–æ–≤ (100000, 50000, ..., 0.5)
   - –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–ø–æ–∫ —Ñ–∏—à–µ–∫
   - –ú–∞–∫—Å–∏–º—É–º 20 —Ñ–∏—à–µ–∫ –≤ —Å—Ç–æ–ø–∫–µ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Å—É–º–º—ã
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–ø–ª–∞—Ç—ã

2. **–ü–æ–¥—Å–∫–∞–∑–∫–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –∑–æ–Ω** - –≤–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å –Ω–æ–≤–∏—á–∫–∞–º

3. **–£–ª—É—á—à–µ–Ω–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Ç–æ—Å—Ç–∞—Ö** - –±–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

4. **–ê–Ω–∏–º–∞—Ü–∏—è** - –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã, –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç

5. **–ó–≤—É–∫–∏** - –∑–≤—É–∫–æ–≤–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π

6. **–ö–∞–º–µ—Ä–∞** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–∞–º–µ—Ä–∞ –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–æ–≤

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –≤ –∫–∞–∫–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä –æ–Ω –æ—Ç–Ω–æ—Å–∏—Ç—Å—è
2. –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –Ω–æ–≤—ã–π state - —Å–æ–∑–¥–∞—Ç—å –≤ `scripts/states/`
3. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –≤ `Localization.gd` (ru + en)
4. –û–±–Ω–æ–≤–∏—Ç—å `GameConfig.gd` –µ—Å–ª–∏ –Ω—É–∂–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
5. –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –≤ `tests/`

### –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏:
1. **–í—Å–µ–≥–¥–∞** –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–µ—Å—Ç—ã –≤ `tests/test_baccarat_rules.gd`
2. –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º –±–∞–∫–∫–∞—Ä–∞
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ edge cases (–Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ, —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ, etc.)

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å UI:
1. –í—Å–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ UIManager
2. –ò—Å–ø–æ–ª—å–∑—É–π —Å–∏–≥–Ω–∞–ª—ã, –Ω–µ –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã
3. –û–±–Ω–æ–≤–ª—è–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞
4. –ü—Ä–æ–≤–µ—Ä—è–π —Ä–∞–±–æ—Ç—É —Å –¥–∂–æ–π–ø–∞–¥–æ–º

### –°—Ç–∏–ª—å –∫–æ–¥–∞:
- –¢–∏–ø–∏–∑–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞: `var hand: Array[Card]`
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –≤ –∫–æ–¥–µ
- –ò–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö/–º–µ—Ç–æ–¥–æ–≤ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –ò—Å–ø–æ–ª—å–∑—É–π `# ‚Üê` –¥–ª—è –≤–∞–∂–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- –ì—Ä—É–ø–ø–∏—Ä—É–π —Å–≤—è–∑–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤–º–µ—Å—Ç–µ

### –û—Ç–ª–∞–¥–∫–∞:
- `print()` –¥–ª—è –ª–æ–≥–æ–≤
- Toast –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- GUT —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏
- –ü—Ä–æ–≤–µ—Ä—è–π console –Ω–∞ –æ—à–∏–±–∫–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
